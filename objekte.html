<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Objekte – KLP Hausverwaltung GbR</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* kleine Galerie-Erweiterungen */
    .gallery { display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
    .gallery .card img { width:100%; height:180px; object-fit:cover; border-radius:12px; margin-bottom:10px; }
    .thumbs { display:flex; gap:8px; flex-wrap:wrap; margin-top:8px; }
    .thumbs img { width:60px; height:42px; object-fit:cover; border-radius:8px; border:1px solid rgba(255,255,255,.12); cursor:pointer; }
    /* Lightbox */
    .lightbox { position:fixed; inset:0; background:rgba(0,0,0,.85); display:none; align-items:center; justify-content:center; z-index:2000; }
    .lightbox.open { display:flex; }
    .lightbox img { max-width:90vw; max-height:80vh; border-radius:12px; box-shadow:0 20px 60px rgba(0,0,0,.6); }
    .lb-ui { position:absolute; top:20px; right:20px; display:flex; gap:8px; }
    .lb-btn { background:linear-gradient(180deg,#1f2937,#111827); border:1px solid rgba(255,255,255,.2); color:#fff; padding:8px 12px; border-radius:12px; cursor:pointer; }
    .lb-prev, .lb-next { position:absolute; top:50%; transform:translateY(-50%); }
    .lb-prev { left:20px; } .lb-next { right:20px; }
    .lb-counter { position:absolute; bottom:20px; left:50%; transform:translateX(-50%); color:#cbd5e1; font-size:.9rem; }
    @media (max-width:980px){ .gallery{grid-template-columns:1fr 1fr} }
    @media (max-width:640px){ .gallery{grid-template-columns:1fr} }
  </style>
</head>
<body>
<header>
  <div class="container nav">
    <div class="brand">
      <img src="assets/Monteursunterkunft-Schlafzimmer-1-OG-links.jpg" alt="Monteursunterkunft in Königswinter" />
      <strong>KLP Hausverwaltung GbR</strong>
    </div>
    <nav class="menu">
      <a href="index.html">Start</a>
      <a href="leistungen.html">Leistungen</a>
      <a href="referenzen.html">Referenzen</a>
      <a href="objekte.html">Objekte</a>
      <a href="team.html">Team</a>
      <a href="downloads.html">Downloads</a>
      <a href="kontakt.html" class="btn btn-primary">Kontakt</a>
    </nav>
  </div>
</header>

<section class="container">
  <h1>Unsere Objekte</h1>
  <p class="muted">Aktuelle Angebote zur Vermietung/Verkauf sowie unsere neuen <strong>Monteursunterkünfte</strong>.</p>

  <!-- MONTEURSUNTERKÜNFTE -->
  <h2>Monteursunterkünfte</h2>
  <div class="gallery">
    <!-- Objekt: Monteursunterkunft Fisch -->
    <article class="card"
      data-images="assets/Monteursunterkunft-Schlafzimmer-1-OG-links.jpg,assets/Monteursunterkunft-Schlafzimmer-1-OG-geradeaus.jpg,assets/Monteursunterkunft-Schlafzimmer-1-OG-rechts.jpg,assets/Monteursunterkunft_Bad-1-OG.jpg,assets/Monteursunterkunft_Schlafzimmer_UG-links.jpg,assets/Monteursunterkunft_Schlafzimmer-UG-2links.jpg,assets/Monteursunterkunft_Bad-UG.jpg,assets/Monteursunterkunft-WZ-EG-1.jpg,assets/Monteursunterkunft-WZ-EG-2.jpg,assets/Monteursunterkunft-Kueche-EG-1.jpg,assets/Monteursunterkunft-Kueche-EG-2.jpg,assets/Monteursunterkunft-Terrasse-UG.jpg"
      data-title="Monteursunterkunft • Königswinter">
      <img src="assets/monteursunterkunft-1.jpg" alt="Monteursunterkunft in Königswinter">
      <h3>Monteursunterkunft – Königswinter</h3>
      <p>für 4 Personen • voll möbliert • WLAN • Parken • ruhige Lage</p>
      <p><strong>ab 25 € / Nacht pro Person</strong></p>
      <div class="thumbs"></div>
      <div style="display:flex;gap:8px;margin-top:10px">
        <button class="btn btn-primary open-gallery">Galerie ansehen</button>
        <a class="btn" href="kontakt.html">Anfragen</a>
      </div>
    </article>
  </div>

  <hr style="border-color: rgba(255,255,255,.08); margin:28px 0">

  <!-- WEITERE ANGEBOTE -->
  <h2>Miete & Verkauf</h2>
  <div class="gallery">
    <article class="card"
      data-images="assets/objekt-wohnung-1.jpg,assets/objekt-wohnung-2.jpg"
      data-title="3-Zimmer Wohnung • Trier">
      <img src="assets/objekt-wohnung-1.jpg" alt="3-Zimmer Wohnung Trier">
      <h3>3-Zimmer Wohnung – Trier</h3>
      <p>78 m² • 2. OG • Balkon</p>
      <p><strong>Miete: 950 € / Monat</strong></p>
      <div class="thumbs"></div>
      <div style="display:flex;gap:8px;margin-top:10px">
        <button class="btn btn-primary open-gallery">Galerie ansehen</button>
        <a class="btn" href="kontakt.html">Anfragen</a>
      </div>
    </article>

    <article class="card"
      data-images="assets/objekt-haus-1.jpg"
      data-title="Einfamilienhaus • Saarburg">
      <img src="assets/objekt-haus-1.jpg" alt="Einfamilienhaus Saarburg">
      <h3>Einfamilienhaus – Saarburg</h3>
      <p>145 m² • Garten & Garage</p>
      <p><strong>Kaufpreis: 420.000 €</strong></p>
      <div class="thumbs"></div>
      <div style="display:flex;gap:8px;margin-top:10px">
        <button class="btn btn-primary open-gallery">Galerie ansehen</button>
        <a class="btn" href="kontakt.html">Anfragen</a>
      </div>
    </article>
  </div>
</section>

<footer>
  <div class="container footgrid">
    <div>
      <strong>KLP Hausverwaltung GbR</strong>
      <p class="muted small">Kapellenstraße 9A, 54439 Fisch • Tel. <a href="tel:+491733420602">0173 3420 602</a> • <a href="mailto:info@klp-hausverwaltung.de">info@klp-hausverwaltung.de</a></p>
      <p class="small">© <span id="year"></span> KLP Hausverwaltung GbR – Alle Rechte vorbehalten.</p>
    </div>
    <div class="small">
      <a href="impressum.html">Impressum</a> • <a href="datenschutz.html">Datenschutz</a>
    </div>
  </div>
</footer>
<a class="whatsapp-fab" href="https://wa.me/491733420602?text=Hallo%20KLP%20Hausverwaltung%2C%20ich%20habe%20eine%20Frage." target="_blank" rel="noopener">WhatsApp</a>

<div id="cookieBanner" role="dialog" aria-live="polite">
  <div class="inner container">
    <p class="small">Wir verwenden nur technisch notwendige Cookies. Externe Inhalte (z. B. Google Maps) werden erst nach Ihrer Zustimmung geladen. <a href="datenschutz.html">Mehr erfahren</a>.</p>
    <div class="actions">
      <button class="btn" onclick="denyConsent()">Ablehnen</button>
      <button class="btn btn-primary" onclick="acceptConsent()">Zustimmen</button>
    </div>
  </div>
</div>

<!-- Lightbox-Container -->
<div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
  <button class="lb-btn lb-prev" aria-label="Vorheriges Bild">‹</button>
  <img id="lb-image" alt="">
  <div class="lb-ui">
    <button class="lb-btn" id="lb-close" aria-label="Schließen">Schließen ✕</button>
  </div>
  <div class="lb-counter" id="lb-counter"></div>
  <button class="lb-btn lb-next" aria-label="Nächstes Bild">›</button>
</div>

<script src="script.js"></script>
<script>
  // Thumbs erzeugen
  document.querySelectorAll('.gallery .card').forEach(card=>{
    const list = (card.dataset.images||'').split(',').map(s=>s.trim()).filter(Boolean);
    const thumbs = card.querySelector('.thumbs');
    if(thumbs && list.length){
      list.forEach((src,i)=>{
        const img = document.createElement('img');
        img.src = src;
        img.alt = (card.dataset.title||'Objekt') + ' – Bild ' + (i+1);
        img.addEventListener('click', ()=>openLightbox(list,i, card.dataset.title||'Objekt'));
        thumbs.appendChild(img);
      });
    }
    const hero = card.querySelector('img');
    if(hero && list.length){ hero.addEventListener('click', ()=>openLightbox(list,0, card.dataset.title||'Objekt')); }
    const btn = card.querySelector('.open-gallery');
    if(btn && list.length){ btn.addEventListener('click', ()=>openLightbox(list,0, card.dataset.title||'Objekt')); }
  });

  // Lightbox Logik
  const lb = document.getElementById('lightbox');
  const lbImg = document.getElementById('lb-image');
  const lbCounter = document.getElementById('lb-counter');
  const btnClose = document.getElementById('lb-close');
  const btnPrev = lb.querySelector('.lb-prev');
  const btnNext = lb.querySelector('.lb-next');
  let imgs=[], idx=0, title='';

  function openLightbox(list, startIndex=0, t=''){
    imgs = list; idx = startIndex; title=t;
    updateLightbox();
    lb.classList.add('open');
  }
  function updateLightbox(){
    if(!imgs.length) return;
    lbImg.src = imgs[idx];
    lbImg.alt = title+' – Bild '+(idx+1)+'/'+imgs.length;
    lbCounter.textContent = (title? title+' • ' : '') + (idx+1)+' / '+imgs.length;
  }
  function closeLightbox(){ lb.classList.remove('open'); }
  function prev(){ idx = (idx-1+imgs.length)%imgs.length; updateLightbox(); }
  function next(){ idx = (idx+1)%imgs.length; updateLightbox(); }

  btnClose.addEventListener('click', closeLightbox);
  btnPrev.addEventListener('click', prev);
  btnNext.addEventListener('click', next);
  lb.addEventListener('click', e=>{ if(e.target===lb) closeLightbox(); });
  document.addEventListener('keydown', e=>{
    if(!lb.classList.contains('open')) return;
    if(e.key==='Escape') closeLightbox();
    if(e.key==='ArrowLeft') prev();
    if(e.key==='ArrowRight') next();
  });
</script>
</body>
</html>
